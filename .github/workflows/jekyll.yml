name: Build and deploy Jekyll site to GitHub Pages

on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
    build-deploy:
      name: Build and deploy

      runs-on: ubuntu-latest

      steps:
        - name: Checkout 🛎️
          uses: actions/checkout@v2

        - name: Build Jekyll site
          run: |
            docker run \
              -v ${{ github.workspace }}:/srv/jekyll \
              jekyll/builder:4.2.0 \
              /bin/bash -c 'chmod 777 /srv/jekyll && bundle exec jekyll build --future'

